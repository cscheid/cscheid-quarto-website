{"title":"Purple dots","markdown":{"yaml":{"title":"Purple dots","date":"2018-09-27","categories":["optical-illusion"]},"headingText":"Acknowledgements","containsRefs":false,"markdown":"\n\nIf you keep your gaze focused at the black crosshairs, eventually the\npurple dots fade away and you start seeing an animated bright green\ndot instead.\n\n<div id=\"wrapper\"></div>\n\n```{ojs}\n{\n    var svgMain = d3.select(\"#wrapper\").append(\"svg\")\n        .attr(\"viewBox\", \"0 0 600 600\")\n        .attr(\"width\", \"100%\")\n        .attr(\"height\", \"100%\");\n\n    svgMain.append(\"defs\")\n    .append(\"filter\")\n    .attr(\"id\", \"blur1\")\n    .attr(\"x\", \"-50%\")\n    .attr(\"y\", \"-50%\")\n    .attr(\"width\", \"200%\")\n    .attr(\"height\", \"200%\")\n    .append(\"feGaussianBlur\")\n    .attr(\"in\", \"SourceGraphic\")\n    .attr(\"stdDeviation\", \"5\");\n\n    svgMain = svgMain\n        .append(\"g\")\n        .attr(\"transform\", \"translate(300, 300)\");\n\n    svgMain.append(\"g\")\n    .append(\"path\")\n    .attr(\"stroke\", \"black\")\n    .attr(\"fill\", \"none\")\n    .attr(\"d\", \"M -20 0 L 20 0 M 0 -20 L 0 20\");\n\n    let nPoints = 12;\n    let angles = d3.range(0, nPoints).map((a) => (a / nPoints) * Math.PI * 2);\n\n    var circles = svgMain.append(\"g\")\n        .selectAll(\"circle\")\n        .data(angles)\n        .enter()\n        .append(\"circle\")\n        .attr(\"r\", 15)\n        .style(\"filter\", \"url(#blur1)\")\n        .attr(\"cx\", (d) => Math.cos(d) * 210)\n        .attr(\"cy\", (d) => Math.sin(d) * 210)\n        .attr(\"fill\", d3.hcl(0, 70, 50));\n\n    function startLoop(d) {\n    d3.select(this)\n        .transition()\n        .duration(150)\n        .style(\"opacity\", 0)\n        .transition()\n        .duration(150)\n        .style(\"opacity\", 1)\n        .transition()\n        .delay(700)\n        .on(\"end\", startLoop);\n    }\n\n    circles.transition()\n    .delay((d) => (d / (Math.PI * 2)) * 1000)\n    .on(\"end\", startLoop);\n}\n```\n\n\nI tried to track down the original discoverer of this one but\nultimately failed; it seems at this point to be folklore.\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"purple-dots.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"99.9.9","theme":["sandstone","../cscheid-net.scss"],"title":"Purple dots","date":"2018-09-27","categories":["optical-illusion"]},"extensions":{"book":{"multiFile":true}}}}}