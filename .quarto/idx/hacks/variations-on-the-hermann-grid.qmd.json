{"title":"Variations on the Hermann grid","markdown":{"yaml":{"title":"Variations on the Hermann grid","date":"2018-10-13","categories":["optical-illusion"]},"headingText":"Acknowledgements","containsRefs":false,"markdown":"\n\nThe [Hermann grid](https://www.illusionsindex.org/i/hermann-grid) is the prototypical example of the extinction\nillusion. Here we build a small variation of Figure 5 from [Ninio and\nStevens's Variations on the Hermann Grid: An Extinction Illusion](http://journals.sagepub.com/doi/abs/10.1068/p2985).\nThere are equally many points on either half of the image: the animation simply moves the points vertically.\n\n<div id=\"main\"></div>\n\n```{ojs}\nimport { svg as _svg } from \"/src/cscheid/cscheid.js\";\n\n{\n    var svg = d3.select(\"#main\")\n        .append(\"svg\")\n        .attr(\"width\", 600)\n        .attr(\"height\", 600);\n\n    function addLineGrid(parent)\n    {\n    return parent.append(\"g\")\n        .selectAll(\"line\")\n        .data(d3.range(-5, 20))\n        .enter()\n        .append(\"line\")\n        .attr(\"x1\", -300)\n        .attr(\"x2\", 900)\n        .attr(\"y1\", d => d * 40)\n        .attr(\"y2\", d => d * 40)\n        .attr(\"stroke\", \"gray\")\n        .attr(\"stroke-width\", \"5px\");\n    }\n\n    // ugly\n    addLineGrid(svg).attr(\"transform\", \"translate(320, 320) rotate(90)  translate(-320, -320)\");\n    addLineGrid(svg).attr(\"transform\", \"translate(320, 320) rotate(30)  translate(-320, -320)\");\n    addLineGrid(svg).attr(\"transform\", \"translate(320, 320) rotate(150) translate(-320, -320)\");\n\n    function addPoints(parent)\n    {\n    return parent.append(\"g\")\n        .selectAll(\"circle\")\n        .data(d3.range(-1, 16))\n        .enter()\n        .append(\"circle\")\n        .attr(\"r\", \"5px\")\n        .attr(\"fill\", \"black\")\n        .attr(\"stroke\", \"white\")\n        .attr(\"cx\", 0)\n        .attr(\"cy\", d => d * 40 / (Math.sqrt(3) / 2));\n    }\n\n    var gap = 40/(Math.sqrt(3)/2);\n\n    var left = svg.append(\"g\").selectAll(\"g\").data(d3.range(4))\n        .enter().append(\"g\")\n        .attr(\"transform\", d => _svg.translate(40 + 80 * d, -3))\n        .call(addPoints);\n\n    var right = svg.append(\"g\").selectAll(\"g\").data(d3.range(4))\n        .enter().append(\"g\")\n        .attr(\"transform\", d => _svg.translate(560 - 80 * d, -3+gap))\n        .call(addPoints);\n\n    function moveLeft()\n    {\n    left.transition()\n        .delay(1500)\n        .duration(1500)\n        .attr(\"transform\", d => _svg.translate(40 + 80 * d, -3+gap/2))\n        .transition()\n        .delay(1500)\n        .duration(1500)\n        .attr(\"transform\", d => _svg.translate(40 + 80 * d, -3))\n        .on(\"end\", moveLeft);\n    }\n\n    function moveRight()\n    {\n    right.transition()\n        .delay(1500)\n        .duration(1500)\n        .attr(\"transform\", d => _svg.translate(560 - 80 * d, -3+3*gap/2))\n        .transition()\n        .delay(1500)\n        .duration(1500)\n        .attr(\"transform\", d => _svg.translate(560 - 80 * d, -3+gap))\n        .on(\"end\", moveRight);\n    }\n\n    moveLeft();\n    window.setTimeout(moveRight, 750);\n\n}\n```\n\n\nI found out about the static version of this illusion [on twitter](https://twitter.com/chazfirestone/status/1049312925134020610).\n\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"variations-on-the-hermann-grid.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"99.9.9","theme":["sandstone","../cscheid-net.scss"],"title":"Variations on the Hermann grid","date":"2018-10-13","categories":["optical-illusion"]},"extensions":{"book":{"multiFile":true}}}}}